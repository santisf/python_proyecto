{% extends 'AppAdopcion/inicio.html' %}
{% load static %}
{% block contenidoQueCambia %}
<div class="container py-5">
  <div class="card mx-auto" style="max-width:720px;">
    <div class="card-body" style="background-color: #dae2cb;">
      <h4>Solicitar adopción</h4>

      {% if animal %}
        <div class="mb-3 d-flex align-items-center">
          <div style="width:140px; height:120px; overflow:hidden; border-radius:8px; margin-right:12px;">
            {% if animal.foto %}
              <img src="{{ animal.foto.url }}" alt="{{ animal.nombre }}" style="width:100%; height:100%; object-fit:cover;">
            {% else %}
              <img src="{% static 'img/no-image.png' %}" alt="Sin foto" style="width:100%; height:100%; object-fit:cover;">
            {% endif %}
          </div>
          <div>
            <p class="mb-0"><strong>{{ animal.nombre }}</strong></p>
            <p class="text-muted mb-0">{{ animal.especie }} · {{ animal.edad }}</p>
          </div>
        </div>
      {% endif %}

      <form method="post">
        {% csrf_token %}

        <div class="mb-3">
          <label class="form-label">Nombre</label>
          {{ form.first_name }}
        </div>

        <div class="mb-3">
          <label class="form-label">Apellido</label>
          {{ form.last_name }}
        </div>

        <div class="mb-3">
          {{ form.telefono.label_tag }}
          {{ form.telefono }}
        </div>

        <div class="mb-3">
          {{ form.mensaje.label_tag }}
          {{ form.mensaje }}
        </div>

        <div class="mb-3">
          {{ form.estado.label_tag }}
          {{ form.estado }}
        </div>

        <div class="mb-3 text-muted">
          Fecha de solicitud: {% if form.instance.fecha_de_solicitud %}{{ form.instance.fecha_de_solicitud }}{% else %}{% now "d M. Y H:i" %}{% endif %}
        </div>

        <button class="btn btn-adopcion" type="submit">Guardar</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
